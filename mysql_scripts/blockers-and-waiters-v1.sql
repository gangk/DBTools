select r.trx_id AS waiting_trx_id, r.trx_mysql_thread_id AS waiting_thread, r.trx_query AS waiting_query, rl.lock_id AS waiting_lock_id, rl.lock_mode AS waiting_lock_mode, rl.lock_type AS waiting_lock_type, rl.lock_table AS waiting_lock_table, rl.lock_index AS waiting_lock_index, b.trx_id AS blocking_trx_id, b.trx_mysql_thread_id AS blocking_thread, b.trx_query AS blocking_query, bl.lock_id AS blocking_lock_id, bl.lock_mode AS blocking_lock_mode, bl.lock_type AS blocking_lock_type, bl.lock_table AS blocking_lock_table, bl.lock_index AS blocking_lock_index from ((((information_schema.INNODB_LOCK_WAITS w join information_schema.INNODB_TRX b on((b.trx_id = w.blocking_trx_id))) join information_schema.INNODB_TRX r on((r.trx_id = w.requesting_trx_id))) join information_schema.INNODB_LOCKS bl on((bl.lock_id = w.blocking_lock_id))) join information_schema.INNODB_LOCKS rl on((rl.lock_id = w.requested_lock_id)));
